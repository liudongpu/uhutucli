{
  "react": [

    {
      "exec": "addLink",
      "set": {
        "link": "react-native-code-push"
      }
    }
  ],

  "ios": [

    {
      "exec": "addPlist",
      "set": {
        "key": "CodePushServerURL",
        "value": "[@config:params.codepush_server]"
      }
    },
    {
      "exec": "addPlist",
      "set": {
        "key": "CodePushDeploymentKey",
        "value": "[@config:params.codepush_ios]"
      }
    }
  ],
  "android": [

    {
      "exec": "addStrings",
      "set": {
        "key": "string",
        "name": "reactNativeCodePush_androidDeploymentKey",
        "value": "[@config:params.codepush_android]",
        "attr": [{
          "key": "moduleConfig",
          "value": "true"
        }]
      }
    },
    {
      "exec": "addStrings",
      "set": {
        "key": "string",
        "name": "reactNativeCodePush_CodePushServerURL",
        "value": "[@config:params.codepush_server]",
        "attr": [{
          "key": "moduleConfig",
          "value": "true"
        }]
      }
    },
    {
      "exec": "flowContentReplace",
      "set": {
        "filePath": "[@config:apps.react.build_path]/node_modules/react-native-code-push/android/app/src/main/java/com/microsoft/codepush/react/CodePush.java",
        "replaceText": "https://codepush.azurewebsites.net/",
        "withText": "[@config:params.codepush_server]"
      }
    }
  ]

}